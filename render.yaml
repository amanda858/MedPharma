services:
  - type: web
    name: medpharma-hub
    env: python
    region: oregon
    plan: free
    branch: main
    autoDeploy: yes
    buildCommand: pip install -r requirements.txt
    startCommand: python run.py
    disk:
      name: medpharma-data
      mountPath: /data
      sizeGB: 1
    envVars:
      - key: SERVICE
        value: hub
      - key: DB_PATH
        value: /data/leads.db
      - key: HUNTER_API_KEY
        sync: false
      - key: OPENAI_API_KEY
        sync: false
      - key: SENDGRID_API_KEY
        sync: false
      - key: SENDGRID_FROM
        value: notifications@medprosc.com
      - key: NOTIFY_EMAIL
        value: eric@medprosc.com
      - key: NOTIFY_PHONE
        value: +18036263500
      - key: NOTIFY_ON_USERS
        value: jessica,rcm
      - key: TWILIO_SID
        sync: false
      - key: TWILIO_TOKEN
        sync: false
      - key: TWILIO_FROM
        sync: false
      - key: SMTP_HOST
        value: smtp.gmail.com
      - key: SMTP_PORT
        value: "587"
      - key: SMTP_USER
        sync: false
      - key: SMTP_PASS
        sync: false

  - type: web
    name: medpharma-leads
    env: python
    region: oregon
    plan: free
    branch: main
    autoDeploy: yes
    buildCommand: pip install -r requirements.txt
    startCommand: python run.py
    envVars:
      - key: SERVICE
        value: leads
      - key: HUNTER_API_KEY
        sync: false
